<style>
  #banner {
    background: linear-gradient(180deg, #233052 0%, #1E1E1E 100%);
     position: relative;
    z-index: 9;
  }
  

  @media(min-width: 1441px) {
    .desktop_banner svg {
      height: auto !important;
    }
  }


</style>

<!-- TradeEdge Pro Section -->
<section id="banner" class="xcl-relative xcl-w-full xcl-text-white xcl-py-10 xcl-pb-[56px] xcl-px-6

xl:xcl-pt-12 xl:xcl-pb-[101px]
"
{% if section.settings.enable_padding %}
    style="padding-bottom: {{ section.settings.padding_bottom }}px;"
  {% endif %}>
  <div class="xcl-mx-auto xcl-text-center xcl-relative xcl-z-10 xcl-max-w-[340px]
  xl:xcl-max-w-[581px]
  ">

    <!-- Heading Logo + Title -->
    <div class="xcl-flex xcl-items-center xcl-justify-center xcl-gap-3 xcl-mb-6 xl:xcl-gap-6">
      {% if section.settings.logo_image != blank %}
        <img
          src="{{ section.settings.logo_image | image_url }}"
          class="xcl-w-6 xcl-h-6 xl:xcl-w-[46px] xl:xcl-h-[48px]"
          loading="lazy"
          alt="Logo">
      {% endif %}
      <h2 class="xcl-text-2xl xcl-font-semibold xl:xcl-text-[48px] xcl-text-white">
        {{ section.settings.title_main }}
        <span class="xcl-text-[#233052] xcl-inline-block xcl-text-[18px] xcl-bg-[#01C5E3] xcl-rounded-2xl  xcl-leading-none xcl-font-semibold
            xcl-ml-1
            xcl-py-1
            xcl-px-2
            
            xl:xcl-text-[36px]
            xl:xcl-ml-5
            xl:xcl-h-auto
            xl:xcl-w-auto
            xl:xcl-px-4
            xl:xcl-py-3
            xl:xcl-rounded-[32px]
            xl:xcl-leading-[26px]


        ">
{{ section.settings.title_highlight }}</span>
      </h2>
    </div>

    <p class="xcl-text-[16px] xcl-text-white xcl-font-semibold xl:xcl-text-[24px]">{{ section.settings.subtitle_top }}</p>

    <!-- Rotating Text Slide-Up Dynamic -->
    <div id="xcl-announcement-slider" class="xcl-py-5">
      <div class="xcl-slider-wrapper xcl-overflow-hidden xcl-relative xcl-w-full xcl-h-12">
        <div class="xcl-slider-track xcl-flex xcl-flex-col xcl-transition-transform xcl-duration-500 xcl-ease-out">
          {% for block in section.blocks %}
            <div class="xcl-slide xcl-min-h-10 xcl-flex xcl-items-center xcl-justify-center xcl-text-center 
            xcl-text-2xl xcl-font-heading xcl-text-[#01C5E3] xcl-font-semibold xcl-leading-normal
            xl:xcl-text-[36px]
            ">
              {{ block.settings.text }}
            </div>
          {% endfor %}
        </div>
      </div>
    </div>


    <p class="xcl-text-[14px] xcl-text-white  xcl-font-semibold xcl-mt-0 xl:xcl-text-[24px]">
      {{ section.settings.subtitle_bottom }} 
    </p>
  </div>

  <!-- Background Graph Image -->
  <div class="xcl-absolute xcl-bottom-0 xcl-z-0 xcl-left-0 xcl-w-full"
  {% if section.settings.enable_padding %}
  style="bottom: {{ section.settings.bg_bottom_postion }}px;"
  {% endif %}
  >
    <div class="xcl-block xl:xcl-hidden xcl-absolute xcl-bottom-0 xcl-w-full xcl-h-auto">
      {% render 'icons-v2'
        , icon: 'icon-banner-mobile'
        , class: 'xcl-w-full xcl-h-auto xcl-w-[14px] xcl-h-[14px] xcl-transition-all group-[&.copied]:xcl-opacity-0'
      %}
    </div>

    <div class="desktop_banner xcl-absolute xcl-bottom-0 xcl-hidden xl:xcl-block xcl-w-full xcl-h-auto ">
      {% render 'icons-v2'
        , icon: 'icon-banner-desktop'
        , class: 'xcl-w-full xcl-h-auto  xcl-hidden xcl-w-[14px] xcl-h-[14px] xcl-transition-all group-[&.copied]:xcl-opacity-0'
      %}

    </div>

  </div>
</section>

<!-- JavaScript Slide Animation (No blank effect) -->
<script>
  document.addEventListener("DOMContentLoaded", function() {

  const track = document.querySelector(".xcl-slider-track");
  const slides = document.querySelectorAll(".xcl-slide");

  if (!slides.length) return;

  let index = 1;
  const speed = 500;  
  const autoTime = 2500;

  const firstClone = slides[0].cloneNode(true);
  const lastClone = slides[slides.length - 1].cloneNode(true);

  track.appendChild(firstClone);
  track.insertBefore(lastClone, slides[0]);

  let allSlides = document.querySelectorAll(".xcl-slide");

  // Each slide height
  const slideHeight = slides[0].offsetHeight;

  // Start from first original
  track.style.transform = `translateY(-${index * slideHeight}px)`;

  function goNext() {
    index++;
    track.style.transition = `${speed}ms ease-out`;
    track.style.transform = `translateY(-${index * slideHeight}px)`;

    track.addEventListener("transitionend", function handler() {

      if (allSlides[index] === firstClone) {
        track.style.transition = "none";
        index = 1;
        track.style.transform = `translateY(-${index * slideHeight}px)`;
      }

      track.removeEventListener("transitionend", handler);
    });
  }

  setInterval(goNext, autoTime);
  });


</script>

{% schema %}
  {
    "name": "Banner",
    "settings": [
      {
        "type": "image_picker",
        "id": "logo_image",
        "label": "Logo Image"
      },

      {
        "type": "text",
        "id": "title_main",
        "label": "Main Title",
        "default": "TradeEdge"
      },
      {
        "type": "text",
        "id": "title_highlight",
        "label": "Highlighted Title",
        "default": "Pro"
      },

      {
        "type": "text",
        "id": "subtitle_top",
        "label": "Top Subtitle",
        "default": "A revolutionary Pine Script strategy designed specifically for"
      }, {
        "type": "text",
        "id": "subtitle_bottom",
        "label": "Bottom Subtitle",
        "default": "who demand consistent, reliable performance across any market, any time-frame & any instrument."
      },
       {
        "type": "range",
        "id": "rotate_speed",
        "min": 1,
        "max": 5,
        "step": 1,
        "label": "Rotation Speed (Seconds)",
        "default": 2
      },
      {
      "type": "checkbox",
        "id": "enable_padding",
        "label": "Enable Padding Bottom",
        "default": false
      },
       {
      "type": "range",
        "id": "padding_bottom",
        "label": "Padding Bottom",
        "min": 0,
        "max": 250,
        "step": 10,
        "default": 250,
        "unit": "px"
      },
      {
      "type": "range",
        "id": "bg_bottom_postion",
        "label": "Bg Bottom Position Minus",
        "min": 0,
        "max": 200,
        "step": 10,
        "default": 200,
        "unit": "px"
      }
    ],
    "blocks": [
      {
        "type": "message",
        "name": "Slide Message",
        "settings": [
          {
            "type": "text",
            "id": "text",
            "label": "Message Text",
            "default": "Welcome to our store!"
          }
        ]
      }
    ],
    "presets": [
      {
        "name": "Banner"
      }
    ]
  }
{% endschema %}